EasyBlog.module("media",function(e){var t=this;EasyBlog.require().library("throttle-debounce").stylesheet("media/style").view("media/place.menu","media/place.body","media/place.user","media/browser","media/place.shared","media/place.jomsocial","media/browser.item","media/panel","media/panel.section","media/browser.navigation.item","media/browser.navigation.itemgroup","media/browser.navigation.item.create","media/browser.uploader","media/browser.uploader.item","media/browser.item.image","media/browser.item.folder","media/browser.treeitem","media/delete","media/recent.item").script("media/place").done(function(){EasyBlog.Controller("Media",{defaultOptions:{view:{recentItem:"media/recent.item"},"{recentActivities}":".recentActivities","{recentItemGroup}":".recentItemGroup"}},function(t){return{init:function(){t.setLayout=e.debounce(250,function(){t.places&&t.places.setLayout()});var n=e.extend(t.options.place);t.element.implement(EasyBlog.Controller.Media.Place,{controller:{media:t},initialPlace:t.options.initialPlace,places:t.options.places},function(){t.places=this}),t.dashboard&&(t.dashboard.media.registerManager(t),t.dashboard.media.maxi=t)},addItem:function(e){var n=t.places.getPlace(e.place);if(!n)return;if(!n.browser)return;n.browser.addItem(e)},removeItem:function(){return;var e},showRecentActivities:function(n){var r=t.recentActivities(),i=(e(window).height()-r.outerHeight())/2,s=(e(window).width()-r.outerWidth())/2;r.css({top:i-50,left:s,opacity:0}),r.animate({top:i,opacity:1},{duration:300,complete:n})},hideRecentActivities:function(){var e=t.recentActivities();e.animate({opacity:0,top:"-=50px"},{duration:200,complete:function(){e.css({left:"-9999px"})}})},insertRecentActivity:function(e){clearTimeout(t.insertRecentActivity.timer);var n=t.recentActivities(),r=t.view.recentItem({meta:e});r.css({opacity:0}).prependTo(t.recentItemGroup()),t.showRecentActivities(function(){r.animate({opacity:1},{duration:300,complete:function(){t.insertRecentActivity.timer=setTimeout(t.hideRecentActivities,1e3)}})})},click:function(n,r){e(r.target).hasClass("panelViewport")&&t.dashboard.media.hideManager()},"{window} keyup":function(e,t){},"{window} resize":function(){t.setLayout()}}}),t.resolve()})});